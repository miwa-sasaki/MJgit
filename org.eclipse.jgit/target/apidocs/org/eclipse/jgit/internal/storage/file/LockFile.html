<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="ja">
<head>
<!-- Generated by javadoc (1.8.0_25) on Fri Jan 13 18:23:27 JST 2017 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>LockFile (JGit - Core 4.6.0-SNAPSHOT API)</title>
<meta name="date" content="2017-01-13">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="LockFile (JGit - Core 4.6.0-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":9,"i14":10,"i15":10,"i16":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>ブラウザのJavaScriptが無効になっています。</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="ナビゲーション・リンクをスキップ">ナビゲーション・リンクをスキップ</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="ナビゲーション">
<li><a href="../../../../../../overview-summary.html">概要</a></li>
<li><a href="package-summary.html">パッケージ</a></li>
<li class="navBarCell1Rev">クラス</li>
<li><a href="class-use/LockFile.html">使用</a></li>
<li><a href="package-tree.html">階層ツリー</a></li>
<li><a href="../../../../../../deprecated-list.html">非推奨</a></li>
<li><a href="../../../../../../index-all.html">索引</a></li>
<li><a href="../../../../../../help-doc.html">ヘルプ</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/eclipse/jgit/internal/storage/file/LazyObjectIdSetFile.html" title="org.eclipse.jgit.internal.storage.file内のクラス"><span class="typeNameLink">前のクラス</span></a></li>
<li><a href="../../../../../../org/eclipse/jgit/internal/storage/file/ObjectDirectory.html" title="org.eclipse.jgit.internal.storage.file内のクラス"><span class="typeNameLink">次のクラス</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/eclipse/jgit/internal/storage/file/LockFile.html" target="_top">フレーム</a></li>
<li><a href="LockFile.html" target="_top">フレームなし</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">すべてのクラス</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>サマリー:&nbsp;</li>
<li>ネスト&nbsp;|&nbsp;</li>
<li>フィールド&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">コンストラクタ</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">メソッド</a></li>
</ul>
<ul class="subNavList">
<li>詳細:&nbsp;</li>
<li>フィールド&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">コンストラクタ</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">メソッド</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.eclipse.jgit.internal.storage.file</div>
<h2 title="クラス LockFile" class="title">クラス LockFile</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="java.lang内のクラスまたはインタフェース">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.eclipse.jgit.internal.storage.file.LockFile</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">LockFile</span>
extends <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="java.lang内のクラスまたはインタフェース">Object</a></pre>
<div class="block">Git style file locking and replacement.
 <p>
 To modify a ref file Git tries to use an atomic update approach: we write the
 new data into a brand new file, then rename it in place over the old name.
 This way we can just delete the temporary file if anything goes wrong, and
 nothing has been damaged. To coordinate access from multiple processes at
 once Git tries to atomically create the new temporary file under a well-known
 name.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>コンストラクタのサマリー</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="コンストラクタのサマリー表、コンストラクタのリストおよび説明">
<caption><span>コンストラクタ</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">コンストラクタと説明</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../org/eclipse/jgit/internal/storage/file/LockFile.html#LockFile-java.io.File-">LockFile</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/io/File.html?is-external=true" title="java.io内のクラスまたはインタフェース">File</a>&nbsp;f)</code>
<div class="block">Create a new lock for any file.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../org/eclipse/jgit/internal/storage/file/LockFile.html#LockFile-java.io.File-org.eclipse.jgit.util.FS-">LockFile</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/io/File.html?is-external=true" title="java.io内のクラスまたはインタフェース">File</a>&nbsp;f,
        <a href="../../../../../../org/eclipse/jgit/util/FS.html" title="org.eclipse.jgit.util内のクラス">FS</a>&nbsp;fs)</code>
<div class="block"><span class="deprecatedLabel">非推奨です。</span>&nbsp;
<div class="block"><span class="deprecationComment">use <a href="../../../../../../org/eclipse/jgit/internal/storage/file/LockFile.html#LockFile-java.io.File-"><code>LockFile(File)</code></a> instead</span></div>
</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>メソッドのサマリー</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="メソッドのサマリー表、メソッドのリストおよび説明">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">修飾子とタイプ</th>
<th class="colLast" scope="col">メソッドと説明</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/eclipse/jgit/internal/storage/file/LockFile.html#commit--">commit</a></span>()</code>
<div class="block">Commit this change and release the lock.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/eclipse/jgit/internal/storage/file/LockFile.html#copyCurrentContent--">copyCurrentContent</a></span>()</code>
<div class="block">Copy the current file content into the temporary file.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/eclipse/jgit/internal/storage/file/LockFile.html#createCommitSnapshot--">createCommitSnapshot</a></span>()</code>
<div class="block">Update the commit snapshot <a href="../../../../../../org/eclipse/jgit/internal/storage/file/LockFile.html#getCommitSnapshot--"><code>getCommitSnapshot()</code></a> before commit.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/eclipse/jgit/internal/storage/file/LockFile.html#getCommitLastModified--">getCommitLastModified</a></span>()</code>
<div class="block">Get the modification time of the output file when it was committed.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/eclipse/jgit/internal/storage/file/FileSnapshot.html" title="org.eclipse.jgit.internal.storage.file内のクラス">FileSnapshot</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/eclipse/jgit/internal/storage/file/LockFile.html#getCommitSnapshot--">getCommitSnapshot</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/OutputStream.html?is-external=true" title="java.io内のクラスまたはインタフェース">OutputStream</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/eclipse/jgit/internal/storage/file/LockFile.html#getOutputStream--">getOutputStream</a></span>()</code>
<div class="block">Obtain the direct output stream for this lock.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/eclipse/jgit/internal/storage/file/LockFile.html#lock--">lock</a></span>()</code>
<div class="block">Try to establish the lock.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/eclipse/jgit/internal/storage/file/LockFile.html#lockForAppend--">lockForAppend</a></span>()</code>
<div class="block">Try to establish the lock for appending.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/eclipse/jgit/internal/storage/file/LockFile.html#setFSync-boolean-">setFSync</a></span>(boolean&nbsp;on)</code>
<div class="block">Request that <a href="../../../../../../org/eclipse/jgit/internal/storage/file/LockFile.html#commit--"><code>commit()</code></a> force dirty data to the drive.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/eclipse/jgit/internal/storage/file/LockFile.html#setNeedSnapshot-boolean-">setNeedSnapshot</a></span>(boolean&nbsp;on)</code>
<div class="block">Request that <a href="../../../../../../org/eclipse/jgit/internal/storage/file/LockFile.html#commit--"><code>commit()</code></a> remember the <a href="../../../../../../org/eclipse/jgit/internal/storage/file/FileSnapshot.html" title="org.eclipse.jgit.internal.storage.file内のクラス"><code>FileSnapshot</code></a>.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/eclipse/jgit/internal/storage/file/LockFile.html#setNeedStatInformation-boolean-">setNeedStatInformation</a></span>(boolean&nbsp;on)</code>
<div class="block">Request that <a href="../../../../../../org/eclipse/jgit/internal/storage/file/LockFile.html#commit--"><code>commit()</code></a> remember modification time.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="java.lang内のクラスまたはインタフェース">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/eclipse/jgit/internal/storage/file/LockFile.html#toString--">toString</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/eclipse/jgit/internal/storage/file/LockFile.html#unlock--">unlock</a></span>()</code>
<div class="block">Unlock this file and abort this change.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/eclipse/jgit/internal/storage/file/LockFile.html#unlock-java.io.File-">unlock</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/io/File.html?is-external=true" title="java.io内のクラスまたはインタフェース">File</a>&nbsp;file)</code>
<div class="block">Unlock the given file.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/eclipse/jgit/internal/storage/file/LockFile.html#waitForStatChange--">waitForStatChange</a></span>()</code>
<div class="block">Wait until the lock file information differs from the old file.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/eclipse/jgit/internal/storage/file/LockFile.html#write-byte:A-">write</a></span>(byte[]&nbsp;content)</code>
<div class="block">Write arbitrary data to the temporary file.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/eclipse/jgit/internal/storage/file/LockFile.html#write-org.eclipse.jgit.lib.ObjectId-">write</a></span>(<a href="../../../../../../org/eclipse/jgit/lib/ObjectId.html" title="org.eclipse.jgit.lib内のクラス">ObjectId</a>&nbsp;id)</code>
<div class="block">Write an ObjectId and LF to the temporary file.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>クラスから継承されたメソッド&nbsp;java.lang.<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="java.lang内のクラスまたはインタフェース">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="java.lang内のクラスまたはインタフェース">clone</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="java.lang内のクラスまたはインタフェース">equals</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="java.lang内のクラスまたはインタフェース">finalize</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="java.lang内のクラスまたはインタフェース">getClass</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="java.lang内のクラスまたはインタフェース">hashCode</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="java.lang内のクラスまたはインタフェース">notify</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="java.lang内のクラスまたはインタフェース">notifyAll</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="java.lang内のクラスまたはインタフェース">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="java.lang内のクラスまたはインタフェース">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="java.lang内のクラスまたはインタフェース">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>コンストラクタの詳細</h3>
<a name="LockFile-java.io.File-org.eclipse.jgit.util.FS-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LockFile</h4>
<pre><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Deprecated.html?is-external=true" title="java.lang内のクラスまたはインタフェース">@Deprecated</a>
public&nbsp;LockFile(<a href="http://docs.oracle.com/javase/8/docs/api/java/io/File.html?is-external=true" title="java.io内のクラスまたはインタフェース">File</a>&nbsp;f,
                            <a href="../../../../../../org/eclipse/jgit/util/FS.html" title="org.eclipse.jgit.util内のクラス">FS</a>&nbsp;fs)</pre>
<div class="block"><span class="deprecatedLabel">非推奨です。</span>&nbsp;<span class="deprecationComment">use <a href="../../../../../../org/eclipse/jgit/internal/storage/file/LockFile.html#LockFile-java.io.File-"><code>LockFile(File)</code></a> instead</span></div>
<div class="block">Create a new lock for any file.</div>
<dl>
<dt><span class="paramLabel">パラメータ:</span></dt>
<dd><code>f</code> - the file that will be locked.</dd>
<dd><code>fs</code> - the file system abstraction which will be necessary to perform
            certain file system operations.</dd>
</dl>
</li>
</ul>
<a name="LockFile-java.io.File-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>LockFile</h4>
<pre>public&nbsp;LockFile(<a href="http://docs.oracle.com/javase/8/docs/api/java/io/File.html?is-external=true" title="java.io内のクラスまたはインタフェース">File</a>&nbsp;f)</pre>
<div class="block">Create a new lock for any file.</div>
<dl>
<dt><span class="paramLabel">パラメータ:</span></dt>
<dd><code>f</code> - the file that will be locked.</dd>
<dt><span class="simpleTagLabel">導入されたバージョン:</span></dt>
<dd>4.2</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>メソッドの詳細</h3>
<a name="unlock-java.io.File-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unlock</h4>
<pre>public static&nbsp;boolean&nbsp;unlock(<a href="http://docs.oracle.com/javase/8/docs/api/java/io/File.html?is-external=true" title="java.io内のクラスまたはインタフェース">File</a>&nbsp;file)</pre>
<div class="block">Unlock the given file.
 <p>
 This method can be used for recovering from a thrown
 <a href="../../../../../../org/eclipse/jgit/errors/LockFailedException.html" title="org.eclipse.jgit.errors内のクラス"><code>LockFailedException</code></a> . This method does not validate that the lock
 is or is not currently held before attempting to unlock it.</div>
<dl>
<dt><span class="paramLabel">パラメータ:</span></dt>
<dd><code>file</code> - </dd>
<dt><span class="returnLabel">戻り値:</span></dt>
<dd>true if unlocked, false if unlocking failed</dd>
</dl>
</li>
</ul>
<a name="lock--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lock</h4>
<pre>public&nbsp;boolean&nbsp;lock()
             throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io内のクラスまたはインタフェース">IOException</a></pre>
<div class="block">Try to establish the lock.</div>
<dl>
<dt><span class="returnLabel">戻り値:</span></dt>
<dd>true if the lock is now held by the caller; false if it is held
         by someone else.</dd>
<dt><span class="throwsLabel">例外:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io内のクラスまたはインタフェース">IOException</a></code> - the temporary output file could not be created. The caller
             does not hold the lock.</dd>
</dl>
</li>
</ul>
<a name="lockForAppend--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lockForAppend</h4>
<pre>public&nbsp;boolean&nbsp;lockForAppend()
                      throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io内のクラスまたはインタフェース">IOException</a></pre>
<div class="block">Try to establish the lock for appending.</div>
<dl>
<dt><span class="returnLabel">戻り値:</span></dt>
<dd>true if the lock is now held by the caller; false if it is held
         by someone else.</dd>
<dt><span class="throwsLabel">例外:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io内のクラスまたはインタフェース">IOException</a></code> - the temporary output file could not be created. The caller
             does not hold the lock.</dd>
</dl>
</li>
</ul>
<a name="copyCurrentContent--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>copyCurrentContent</h4>
<pre>public&nbsp;void&nbsp;copyCurrentContent()
                        throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io内のクラスまたはインタフェース">IOException</a></pre>
<div class="block">Copy the current file content into the temporary file.
 <p>
 This method saves the current file content by inserting it into the
 temporary file, so that the caller can safely append rather than replace
 the primary file.
 <p>
 This method does nothing if the current file does not exist, or exists
 but is empty.</div>
<dl>
<dt><span class="throwsLabel">例外:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io内のクラスまたはインタフェース">IOException</a></code> - the temporary file could not be written, or a read error
             occurred while reading from the current file. The lock is
             released before throwing the underlying IO exception to the
             caller.</dd>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/RuntimeException.html?is-external=true" title="java.lang内のクラスまたはインタフェース">RuntimeException</a></code> - the temporary file could not be written. The lock is released
             before throwing the underlying exception to the caller.</dd>
</dl>
</li>
</ul>
<a name="write-org.eclipse.jgit.lib.ObjectId-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>write</h4>
<pre>public&nbsp;void&nbsp;write(<a href="../../../../../../org/eclipse/jgit/lib/ObjectId.html" title="org.eclipse.jgit.lib内のクラス">ObjectId</a>&nbsp;id)
           throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io内のクラスまたはインタフェース">IOException</a></pre>
<div class="block">Write an ObjectId and LF to the temporary file.</div>
<dl>
<dt><span class="paramLabel">パラメータ:</span></dt>
<dd><code>id</code> - the id to store in the file. The id will be written in hex,
            followed by a sole LF.</dd>
<dt><span class="throwsLabel">例外:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io内のクラスまたはインタフェース">IOException</a></code> - the temporary file could not be written. The lock is released
             before throwing the underlying IO exception to the caller.</dd>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/RuntimeException.html?is-external=true" title="java.lang内のクラスまたはインタフェース">RuntimeException</a></code> - the temporary file could not be written. The lock is released
             before throwing the underlying exception to the caller.</dd>
</dl>
</li>
</ul>
<a name="write-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>write</h4>
<pre>public&nbsp;void&nbsp;write(byte[]&nbsp;content)
           throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io内のクラスまたはインタフェース">IOException</a></pre>
<div class="block">Write arbitrary data to the temporary file.</div>
<dl>
<dt><span class="paramLabel">パラメータ:</span></dt>
<dd><code>content</code> - the bytes to store in the temporary file. No additional bytes
            are added, so if the file must end with an LF it must appear
            at the end of the byte array.</dd>
<dt><span class="throwsLabel">例外:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="java.io内のクラスまたはインタフェース">IOException</a></code> - the temporary file could not be written. The lock is released
             before throwing the underlying IO exception to the caller.</dd>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/RuntimeException.html?is-external=true" title="java.lang内のクラスまたはインタフェース">RuntimeException</a></code> - the temporary file could not be written. The lock is released
             before throwing the underlying exception to the caller.</dd>
</dl>
</li>
</ul>
<a name="getOutputStream--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOutputStream</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/io/OutputStream.html?is-external=true" title="java.io内のクラスまたはインタフェース">OutputStream</a>&nbsp;getOutputStream()</pre>
<div class="block">Obtain the direct output stream for this lock.
 <p>
 The stream may only be accessed once, and only after <a href="../../../../../../org/eclipse/jgit/internal/storage/file/LockFile.html#lock--"><code>lock()</code></a> has
 been successfully invoked and returned true. Callers must close the
 stream prior to calling <a href="../../../../../../org/eclipse/jgit/internal/storage/file/LockFile.html#commit--"><code>commit()</code></a> to commit the change.</div>
<dl>
<dt><span class="returnLabel">戻り値:</span></dt>
<dd>a stream to write to the new file. The stream is unbuffered.</dd>
</dl>
</li>
</ul>
<a name="setNeedStatInformation-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setNeedStatInformation</h4>
<pre>public&nbsp;void&nbsp;setNeedStatInformation(boolean&nbsp;on)</pre>
<div class="block">Request that <a href="../../../../../../org/eclipse/jgit/internal/storage/file/LockFile.html#commit--"><code>commit()</code></a> remember modification time.
 <p>
 This is an alias for <code>setNeedSnapshot(true)</code>.</div>
<dl>
<dt><span class="paramLabel">パラメータ:</span></dt>
<dd><code>on</code> - true if the commit method must remember the modification time.</dd>
</dl>
</li>
</ul>
<a name="setNeedSnapshot-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setNeedSnapshot</h4>
<pre>public&nbsp;void&nbsp;setNeedSnapshot(boolean&nbsp;on)</pre>
<div class="block">Request that <a href="../../../../../../org/eclipse/jgit/internal/storage/file/LockFile.html#commit--"><code>commit()</code></a> remember the <a href="../../../../../../org/eclipse/jgit/internal/storage/file/FileSnapshot.html" title="org.eclipse.jgit.internal.storage.file内のクラス"><code>FileSnapshot</code></a>.</div>
<dl>
<dt><span class="paramLabel">パラメータ:</span></dt>
<dd><code>on</code> - true if the commit method must remember the FileSnapshot.</dd>
</dl>
</li>
</ul>
<a name="setFSync-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setFSync</h4>
<pre>public&nbsp;void&nbsp;setFSync(boolean&nbsp;on)</pre>
<div class="block">Request that <a href="../../../../../../org/eclipse/jgit/internal/storage/file/LockFile.html#commit--"><code>commit()</code></a> force dirty data to the drive.</div>
<dl>
<dt><span class="paramLabel">パラメータ:</span></dt>
<dd><code>on</code> - true if dirty data should be forced to the drive.</dd>
</dl>
</li>
</ul>
<a name="waitForStatChange--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitForStatChange</h4>
<pre>public&nbsp;void&nbsp;waitForStatChange()
                       throws <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html?is-external=true" title="java.lang内のクラスまたはインタフェース">InterruptedException</a></pre>
<div class="block">Wait until the lock file information differs from the old file.
 <p>
 This method tests the last modification date. If both are the same, this
 method sleeps until it can force the new lock file's modification date to
 be later than the target file.</div>
<dl>
<dt><span class="throwsLabel">例外:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/InterruptedException.html?is-external=true" title="java.lang内のクラスまたはインタフェース">InterruptedException</a></code> - the thread was interrupted before the last modified date of
             the lock file was different from the last modified date of
             the target file.</dd>
</dl>
</li>
</ul>
<a name="commit--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commit</h4>
<pre>public&nbsp;boolean&nbsp;commit()</pre>
<div class="block">Commit this change and release the lock.
 <p>
 If this method fails (returns false) the lock is still released.</div>
<dl>
<dt><span class="returnLabel">戻り値:</span></dt>
<dd>true if the commit was successful and the file contains the new
         data; false if the commit failed and the file remains with the
         old data.</dd>
<dt><span class="throwsLabel">例外:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="java.lang内のクラスまたはインタフェース">IllegalStateException</a></code> - the lock is not held.</dd>
</dl>
</li>
</ul>
<a name="getCommitLastModified--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCommitLastModified</h4>
<pre>public&nbsp;long&nbsp;getCommitLastModified()</pre>
<div class="block">Get the modification time of the output file when it was committed.</div>
<dl>
<dt><span class="returnLabel">戻り値:</span></dt>
<dd>modification time of the lock file right before we committed it.</dd>
</dl>
</li>
</ul>
<a name="getCommitSnapshot--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCommitSnapshot</h4>
<pre>public&nbsp;<a href="../../../../../../org/eclipse/jgit/internal/storage/file/FileSnapshot.html" title="org.eclipse.jgit.internal.storage.file内のクラス">FileSnapshot</a>&nbsp;getCommitSnapshot()</pre>
<dl>
<dt><span class="returnLabel">戻り値:</span></dt>
<dd>get the <a href="../../../../../../org/eclipse/jgit/internal/storage/file/FileSnapshot.html" title="org.eclipse.jgit.internal.storage.file内のクラス"><code>FileSnapshot</code></a> just before commit.</dd>
</dl>
</li>
</ul>
<a name="createCommitSnapshot--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createCommitSnapshot</h4>
<pre>public&nbsp;void&nbsp;createCommitSnapshot()</pre>
<div class="block">Update the commit snapshot <a href="../../../../../../org/eclipse/jgit/internal/storage/file/LockFile.html#getCommitSnapshot--"><code>getCommitSnapshot()</code></a> before commit.
 <p>
 This may be necessary if you need time stamp before commit occurs, e.g
 while writing the index.</div>
</li>
</ul>
<a name="unlock--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unlock</h4>
<pre>public&nbsp;void&nbsp;unlock()</pre>
<div class="block">Unlock this file and abort this change.
 <p>
 The temporary file (if created) is deleted before returning.</div>
</li>
</ul>
<a name="toString--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="java.lang内のクラスまたはインタフェース">String</a>&nbsp;toString()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">オーバーライド:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="java.lang内のクラスまたはインタフェース">toString</a></code>&nbsp;クラス内&nbsp;<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="java.lang内のクラスまたはインタフェース">Object</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="ナビゲーション・リンクをスキップ">ナビゲーション・リンクをスキップ</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="ナビゲーション">
<li><a href="../../../../../../overview-summary.html">概要</a></li>
<li><a href="package-summary.html">パッケージ</a></li>
<li class="navBarCell1Rev">クラス</li>
<li><a href="class-use/LockFile.html">使用</a></li>
<li><a href="package-tree.html">階層ツリー</a></li>
<li><a href="../../../../../../deprecated-list.html">非推奨</a></li>
<li><a href="../../../../../../index-all.html">索引</a></li>
<li><a href="../../../../../../help-doc.html">ヘルプ</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/eclipse/jgit/internal/storage/file/LazyObjectIdSetFile.html" title="org.eclipse.jgit.internal.storage.file内のクラス"><span class="typeNameLink">前のクラス</span></a></li>
<li><a href="../../../../../../org/eclipse/jgit/internal/storage/file/ObjectDirectory.html" title="org.eclipse.jgit.internal.storage.file内のクラス"><span class="typeNameLink">次のクラス</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/eclipse/jgit/internal/storage/file/LockFile.html" target="_top">フレーム</a></li>
<li><a href="LockFile.html" target="_top">フレームなし</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">すべてのクラス</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>サマリー:&nbsp;</li>
<li>ネスト&nbsp;|&nbsp;</li>
<li>フィールド&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">コンストラクタ</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">メソッド</a></li>
</ul>
<ul class="subNavList">
<li>詳細:&nbsp;</li>
<li>フィールド&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">コンストラクタ</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">メソッド</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2017 <a href="http://www.eclipse.org/jgit">Eclipse JGit Project</a>. All rights reserved.</small></p>
</body>
</html>
