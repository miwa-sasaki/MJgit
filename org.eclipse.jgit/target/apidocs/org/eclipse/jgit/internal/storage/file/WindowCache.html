<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="ja">
<head>
<!-- Generated by javadoc (1.8.0_25) on Fri Jan 13 20:45:45 JST 2017 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>WindowCache (JGit - Core 4.6.0-SNAPSHOT API)</title>
<meta name="date" content="2017-01-13">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="WindowCache (JGit - Core 4.6.0-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":41};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"],32:["t6","Deprecated Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>ブラウザのJavaScriptが無効になっています。</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="ナビゲーション・リンクをスキップ">ナビゲーション・リンクをスキップ</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="ナビゲーション">
<li><a href="../../../../../../overview-summary.html">概要</a></li>
<li><a href="package-summary.html">パッケージ</a></li>
<li class="navBarCell1Rev">クラス</li>
<li><a href="class-use/WindowCache.html">使用</a></li>
<li><a href="package-tree.html">階層ツリー</a></li>
<li><a href="../../../../../../deprecated-list.html">非推奨</a></li>
<li><a href="../../../../../../index-all.html">索引</a></li>
<li><a href="../../../../../../help-doc.html">ヘルプ</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/eclipse/jgit/internal/storage/file/UnpackedObject.html" title="org.eclipse.jgit.internal.storage.file内のクラス"><span class="typeNameLink">前のクラス</span></a></li>
<li>次のクラス</li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/eclipse/jgit/internal/storage/file/WindowCache.html" target="_top">フレーム</a></li>
<li><a href="WindowCache.html" target="_top">フレームなし</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">すべてのクラス</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>サマリー:&nbsp;</li>
<li>ネスト&nbsp;|&nbsp;</li>
<li>フィールド&nbsp;|&nbsp;</li>
<li>コンストラクタ&nbsp;|&nbsp;</li>
<li><a href="#method.summary">メソッド</a></li>
</ul>
<ul class="subNavList">
<li>詳細:&nbsp;</li>
<li>フィールド&nbsp;|&nbsp;</li>
<li>コンストラクタ&nbsp;|&nbsp;</li>
<li><a href="#method.detail">メソッド</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.eclipse.jgit.internal.storage.file</div>
<h2 title="クラス WindowCache" class="title">クラス WindowCache</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="java.lang内のクラスまたはインタフェース">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.eclipse.jgit.internal.storage.file.WindowCache</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">WindowCache</span>
extends <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="java.lang内のクラスまたはインタフェース">Object</a></pre>
<div class="block">Caches slices of a <a href="../../../../../../org/eclipse/jgit/internal/storage/file/PackFile.html" title="org.eclipse.jgit.internal.storage.file内のクラス"><code>PackFile</code></a> in memory for faster read access.
 <p>
 The WindowCache serves as a Java based "buffer cache", loading segments of a
 PackFile into the JVM heap prior to use. As JGit often wants to do reads of
 only tiny slices of a file, the WindowCache tries to smooth out these tiny
 reads into larger block-sized IO operations.
 <p>
 Whenever a cache miss occurs, <a href="../../../../../../org/eclipse/jgit/internal/storage/file/WindowCache.html#load-org.eclipse.jgit.internal.storage.file.PackFile-long-"><code>load(PackFile, long)</code></a> is invoked by
 exactly one thread for the given <code>(PackFile,position)</code> key tuple.
 This is ensured by an array of locks, with the tuple hashed to a lock
 instance.
 <p>
 During a miss, older entries are evicted from the cache so long as
 <a href="../../../../../../org/eclipse/jgit/internal/storage/file/WindowCache.html#isFull--"><code>isFull()</code></a> returns true.
 <p>
 Its too expensive during object access to be 100% accurate with a least
 recently used (LRU) algorithm. Strictly ordering every read is a lot of
 overhead that typically doesn't yield a corresponding benefit to the
 application.
 <p>
 This cache implements a loose LRU policy by randomly picking a window
 comprised of roughly 10% of the cache, and evicting the oldest accessed entry
 within that window.
 <p>
 Entities created by the cache are held under SoftReferences, permitting the
 Java runtime's garbage collector to evict entries when heap memory gets low.
 Most JREs implement a loose least recently used algorithm for this eviction.
 <p>
 The internal hash table does not expand at runtime, instead it is fixed in
 size at cache creation time. The internal lock table used to gate load
 invocations is also fixed in size.
 <p>
 The key tuple is passed through to methods as a pair of parameters rather
 than as a single Object, thus reducing the transient memory allocations of
 callers. It is more efficient to avoid the allocation, as we can't be 100%
 sure that a JIT would be able to stack-allocate a key tuple.
 <p>
 This cache has an implementation rule such that:
 <ul>
 <li><a href="../../../../../../org/eclipse/jgit/internal/storage/file/WindowCache.html#load-org.eclipse.jgit.internal.storage.file.PackFile-long-"><code>load(PackFile, long)</code></a> is invoked by at most one thread at a time
 for a given <code>(PackFile,position)</code> tuple.</li>
 <li>For every <code>load()</code> invocation there is exactly one
 <a href="../../../../../../org/eclipse/jgit/internal/storage/file/WindowCache.html#createRef-org.eclipse.jgit.internal.storage.file.PackFile-long-org.eclipse.jgit.internal.storage.file.ByteWindow-"><code>createRef(PackFile, long, ByteWindow)</code></a> invocation to wrap a
 SoftReference around the cached entity.</li>
 <li>For every Reference created by <code>createRef()</code> there will be
 exactly one call to <a href="../../../../../../org/eclipse/jgit/internal/storage/file/WindowCache.html#clear-org.eclipse.jgit.internal.storage.file.WindowCache.Ref-"><code>clear(Ref)</code></a> to cleanup any resources associated
 with the (now expired) cached entity.</li>
 </ul>
 <p>
 Therefore, it is safe to perform resource accounting increments during the
 <a href="../../../../../../org/eclipse/jgit/internal/storage/file/WindowCache.html#load-org.eclipse.jgit.internal.storage.file.PackFile-long-"><code>load(PackFile, long)</code></a> or
 <a href="../../../../../../org/eclipse/jgit/internal/storage/file/WindowCache.html#createRef-org.eclipse.jgit.internal.storage.file.PackFile-long-org.eclipse.jgit.internal.storage.file.ByteWindow-"><code>createRef(PackFile, long, ByteWindow)</code></a> methods, and matching
 decrements during <a href="../../../../../../org/eclipse/jgit/internal/storage/file/WindowCache.html#clear-org.eclipse.jgit.internal.storage.file.WindowCache.Ref-"><code>clear(Ref)</code></a>. Implementors may need to override
 <a href="../../../../../../org/eclipse/jgit/internal/storage/file/WindowCache.html#createRef-org.eclipse.jgit.internal.storage.file.PackFile-long-org.eclipse.jgit.internal.storage.file.ByteWindow-"><code>createRef(PackFile, long, ByteWindow)</code></a> in order to embed additional
 accounting information into an implementation specific <code>Ref</code> subclass,
 as the cached entity may have already been evicted by the JRE's garbage
 collector.
 <p>
 To maintain higher concurrency workloads, during eviction only one thread
 performs the eviction work, while other threads can continue to insert new
 objects in parallel. This means that the cache can be temporarily over limit,
 especially if the nominated eviction thread is being starved relative to the
 other threads.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>メソッドのサマリー</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="メソッドのサマリー表、メソッドのリストおよび説明">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t6" class="tableTab"><span><a href="javascript:show(32);">Deprecated Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">修飾子とタイプ</th>
<th class="colLast" scope="col">メソッドと説明</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/eclipse/jgit/internal/storage/file/WindowCache.html#reconfigure-org.eclipse.jgit.storage.file.WindowCacheConfig-">reconfigure</a></span>(<a href="../../../../../../org/eclipse/jgit/storage/file/WindowCacheConfig.html" title="org.eclipse.jgit.storage.file内のクラス">WindowCacheConfig</a>&nbsp;cfg)</code>
<div class="block"><span class="deprecatedLabel">非推奨です。</span>&nbsp;
<div class="block"><span class="deprecationComment">use <code>cfg.install()</code> to avoid internal reference.</span></div>
</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>クラスから継承されたメソッド&nbsp;java.lang.<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="java.lang内のクラスまたはインタフェース">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="java.lang内のクラスまたはインタフェース">clone</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="java.lang内のクラスまたはインタフェース">equals</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="java.lang内のクラスまたはインタフェース">finalize</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="java.lang内のクラスまたはインタフェース">getClass</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="java.lang内のクラスまたはインタフェース">hashCode</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="java.lang内のクラスまたはインタフェース">notify</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="java.lang内のクラスまたはインタフェース">notifyAll</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="java.lang内のクラスまたはインタフェース">toString</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="java.lang内のクラスまたはインタフェース">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="java.lang内のクラスまたはインタフェース">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="java.lang内のクラスまたはインタフェース">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>メソッドの詳細</h3>
<a name="reconfigure-org.eclipse.jgit.storage.file.WindowCacheConfig-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>reconfigure</h4>
<pre><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Deprecated.html?is-external=true" title="java.lang内のクラスまたはインタフェース">@Deprecated</a>
public static&nbsp;void&nbsp;reconfigure(<a href="../../../../../../org/eclipse/jgit/storage/file/WindowCacheConfig.html" title="org.eclipse.jgit.storage.file内のクラス">WindowCacheConfig</a>&nbsp;cfg)</pre>
<div class="block"><span class="deprecatedLabel">非推奨です。</span>&nbsp;<span class="deprecationComment">use <code>cfg.install()</code> to avoid internal reference.</span></div>
<div class="block">Modify the configuration of the window cache.
 <p>
 The new configuration is applied immediately. If the new limits are
 smaller than what what is currently cached, older entries will be purged
 as soon as possible to allow the cache to meet the new limit.</div>
<dl>
<dt><span class="paramLabel">パラメータ:</span></dt>
<dd><code>cfg</code> - the new window cache configuration.</dd>
<dt><span class="throwsLabel">例外:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="java.lang内のクラスまたはインタフェース">IllegalArgumentException</a></code> - the cache configuration contains one or more invalid
             settings, usually too low of a limit.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="ナビゲーション・リンクをスキップ">ナビゲーション・リンクをスキップ</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="ナビゲーション">
<li><a href="../../../../../../overview-summary.html">概要</a></li>
<li><a href="package-summary.html">パッケージ</a></li>
<li class="navBarCell1Rev">クラス</li>
<li><a href="class-use/WindowCache.html">使用</a></li>
<li><a href="package-tree.html">階層ツリー</a></li>
<li><a href="../../../../../../deprecated-list.html">非推奨</a></li>
<li><a href="../../../../../../index-all.html">索引</a></li>
<li><a href="../../../../../../help-doc.html">ヘルプ</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/eclipse/jgit/internal/storage/file/UnpackedObject.html" title="org.eclipse.jgit.internal.storage.file内のクラス"><span class="typeNameLink">前のクラス</span></a></li>
<li>次のクラス</li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/eclipse/jgit/internal/storage/file/WindowCache.html" target="_top">フレーム</a></li>
<li><a href="WindowCache.html" target="_top">フレームなし</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">すべてのクラス</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>サマリー:&nbsp;</li>
<li>ネスト&nbsp;|&nbsp;</li>
<li>フィールド&nbsp;|&nbsp;</li>
<li>コンストラクタ&nbsp;|&nbsp;</li>
<li><a href="#method.summary">メソッド</a></li>
</ul>
<ul class="subNavList">
<li>詳細:&nbsp;</li>
<li>フィールド&nbsp;|&nbsp;</li>
<li>コンストラクタ&nbsp;|&nbsp;</li>
<li><a href="#method.detail">メソッド</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2017 <a href="http://www.eclipse.org/jgit">Eclipse JGit Project</a>. All rights reserved.</small></p>
</body>
</html>
